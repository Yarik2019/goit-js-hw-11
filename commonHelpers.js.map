{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/error.svg","../src/main.js"],"sourcesContent":["export function getPhotos(query) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '45225008-7dd168b8c56fcbfbf82a602af';\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n  return fetch(`${BASE_URL}?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","function imageMarkup({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `<li class=\"gallery\">\n            <a class=\"list\" href=\"${largeImageURL}\">\n              <img class=\"photo\" src=\"${webformatURL}\" alt=\"${tags}\" />\n              <ul class=\"properties-list\">\n                <li>\n                  <p class=\"prop\">Likes</p>\n                  <p class=\"prop-value\">${likes}</p>\n                </li>\n                <li>\n                  <p class=\"prop\">Views</p>\n                  <p class=\"prop-value\">${views}</p>\n                </li>\n                <li>\n                  <p class=\"prop\">Comments</p>\n                  <p class=\"prop-value\">${comments}</p>\n                </li>\n                <li>\n                  <p class=\"prop\">Downloads</p>\n                  <p class=\"prop-value\">${downloads}</p>\n                </li>\n              </ul>\n            </a>\n          </li>`;\n}\n\nexport function imagesMarkup(array) {\n  return array.map(imageMarkup).join('');\n}\n","export default \"__VITE_ASSET__8479b7dd__\"","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { getPhotos } from './js/pixabay-api';\nimport { imagesMarkup } from './js/render-functions';\n\nimport iconError from './img/error.svg';\n\nconst ElementForm = document.querySelector('.js-form');\nconst ul = document.querySelector('.js-gallery-list');\nconst loader = document.querySelector('.loader');\n\nElementForm.addEventListener('submit', onSearchGallery);\n\nfunction onSearchGallery(event) {\n  event.preventDefault();\n\n  const formData = new FormData(ElementForm);\n  const searchQuery = formData.get('search').trim();\n\n  if (searchQuery === '') {\n    return iziToastMessage('The field cannot be empty!');\n  }\n\n  loader.classList.remove('hidden');\n\n  getPhotos(searchQuery)\n    .then(data => {\n      if (data.hits.length === 0) {\n        return iziToastMessage(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n\n      ul.innerHTML = imagesMarkup(data.hits);\n\n      const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      loader.classList.add('hidden');\n      event.target.reset();\n    });\n}\n\nfunction iziToastMessage(message) {\n  return iziToast.error({\n    iconUrl: iconError,\n    title: 'Error',\n    titleColor: '#fff',\n    messageColor: '#fff',\n    backgroundColor: '#ef4040',\n    position: 'topRight',\n    message: message,\n  });\n}\n"],"names":["getPhotos","query","BASE_URL","API_KEY","params","response","imageMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesMarkup","array","iconError","ElementForm","ul","loader","onSearchGallery","event","searchQuery","iziToastMessage","data","SimpleLightbox","error","message","iziToast"],"mappings":"6vBAAO,SAASA,EAAUC,EAAO,CAC/B,MAAMC,EAAW,2BACXC,EAAU,qCACVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACD,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAM,EAAE,EAAE,KAAKC,GAAY,CACrD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CChBA,SAASC,EAAY,CACnB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA,oCAC2BL,CAAa;AAAA,wCACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,0CAIxBC,CAAK;AAAA;AAAA;AAAA;AAAA,0CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,0CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,0CAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,gBAKnD,CAEO,SAASC,EAAaC,EAAO,CAClC,OAAOA,EAAM,IAAIT,CAAW,EAAE,KAAK,EAAE,CACvC,CCpCA,MAAeU,EAAA,2CCSTC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAK,SAAS,cAAc,kBAAkB,EAC9CC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAY,iBAAiB,SAAUG,CAAe,EAEtD,SAASA,EAAgBC,EAAO,CAC9BA,EAAM,eAAc,EAGpB,MAAMC,EADW,IAAI,SAASL,CAAW,EACZ,IAAI,QAAQ,EAAE,KAAI,EAE/C,GAAIK,IAAgB,GAClB,OAAOC,EAAgB,4BAA4B,EAGrDJ,EAAO,UAAU,OAAO,QAAQ,EAEhCnB,EAAUsB,CAAW,EAClB,KAAKE,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvB,OAAOD,EACL,0EACV,EAGML,EAAG,UAAYJ,EAAaU,EAAK,IAAI,EAEpB,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACtB,CAAO,EAEQ,QAAO,CACtB,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbP,EAAO,UAAU,IAAI,QAAQ,EAC7BE,EAAM,OAAO,OACnB,CAAK,CACL,CAEA,SAASE,EAAgBI,EAAS,CAChC,OAAOC,EAAS,MAAM,CACpB,QAASZ,EACT,MAAO,QACP,WAAY,OACZ,aAAc,OACd,gBAAiB,UACjB,SAAU,WACV,QAASW,CACb,CAAG,CACH"}